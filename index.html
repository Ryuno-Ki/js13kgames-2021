<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>js13kgames-2021 - SPACE</title>
  <meta name="description" content="" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta property="og:title" content="" />
  <meta property="og:type" content="" />
  <meta property="og:url" content="" />
  <meta property="og:image" content="" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš€</text></svg>">
  <style>/*! HTML5 Boilerplate v8.0.0 | MIT License | https://html5boilerplate.com/ */html{color:#222;font-size:1em;line-height:1.4}::-moz-selection{background:#b3d4fc;text-shadow:none}::selection{background:#b3d4fc;text-shadow:none}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}audio,canvas,iframe,img,svg,video{vertical-align:middle}fieldset{border:0;margin:0;padding:0}textarea{resize:vertical}.hidden,[hidden]{display:none!important}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.sr-only.focusable:active,.sr-only.focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;white-space:inherit;width:auto}.invisible{visibility:hidden}.clearfix::after,.clearfix::before{content:" ";display:table}.clearfix::after{clear:both}@media print{*,::after,::before{background:#fff!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}a[href]::after{content:" (" attr(href) ")"}abbr[title]::after{content:" (" attr(title) ")"}a[href^="#"]::after,a[href^="javascript:"]::after{content:""}pre{white-space:pre-wrap!important}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}}*{box-sizing:border-box}body,html{background-color:#191970;color:gold}main{display:grid!important;min-height:90vh;min-width:90vw;place-items:center}section{max-width:45ch}section:first-of-type{display:block;text-align:center}#scene-game:not(:target),section:not(:target){display:none}a{color:orange}a[href^="#"],button[type=button]{background-color:orange!important;border:none;color:#191970;cursor:pointer;display:inline-block;margin-block:1em;padding:.5em 1em;text-align:center;text-decoration:none}canvas{background-color:grey;cursor:not-allowed}label,label span{display:block}input[type=range]{min-width:100%}#scene-game{display:grid;grid-template-areas:'canvas   ygravity' 'xgravity .       ' 'controls controls'}#game{grid-area:canvas}#xgravity-label{grid-area:xgravity}#ygravity-label{display:flex;grid-area:ygravity}#ygravity{-webkit-appearance:slider-vertical;transform:rotate(180deg)}#controls{display:flex;grid-area:controls;justify-content:space-between}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}</style>
</head>
<body>
  <main>
    <section id="scene-title" tabindex="0">
      <h1>Combat Scorched Earth from Outer Space</h1>
      <a href="#scene-game">New game</a>
      <a href="#scene-settings">Settings</a>
      <a href="#scene-credits">Credits</a>
    </section>

    <section id="scene-game" tabindex="0">
      <canvas id="game" width="300" height="450"></canvas>
      <label id=="xgravity-label">
        <span>Manipulate the gravity!</span>
        <input
          id="xgravity"
          type="range"
          min="-100"
          max="100"
          value="0"
          step="any"
          />
      </label>

      <label id="ygravity-label">
        <span class="sr-only">Manipulate the gravity!</span>
        <input
          id="ygravity"
          type="range"
          min="-100"
          max="100"
          value="0"
          step="any"
          orient="vertical"
          />
      </label>
      <div id="controls">
        <button type="button" onclick="location.reload()">Restart</button>
        <a href="#scene-title">Back to start</a>
      </div>
    </section>

    <section id="scene-gameover" tabindex="0">
      <p>Game Over</p>
      <p>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fjaenis.ch%2Fhobbies%2Fcoding%2Fdemos%2Fjs13kgames%2F2021%2Ftext=I%20played%20%C2%BBCombat%20Scorched%20Earth%20from%20Outer%20Space%C2%AB&hashtags=js13k,js13kgames&via=AndreJaenisch">Share your feedback</a>
      </p>
      <p>
        <button type="button" onclick="location.reload()">Try again?</button>
        <a href="#scene-title">Back to start</a>
      </p>
    </section>

    <section id="scene-settings" tabindex="0">
      <p>Here you will be able to turn off the volume and load emojis.</p>
      <p>
        <a href="#scene-title">Back to start</a>
      </p>
    </section>

    <section id="scene-credits" tabindex="0">
      <h2>Credits</h2>
      <p>
        Video name generated using
        <a href="https://videogamena.me/">The Video Game Name Generator</a>.
      </p>
      <p>
        Physics engine adapted from
        <a href="https://github.com/xem/mini2Dphysics">mini2Dphysics</a>.
      </p>
      <p>
        <a href="#scene-title">Back to start</a>
      </p>
    </section>
  </main>
  <script>/**
 * This file is part of JS13kGames - SPACE.
 * <insert name here> is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * <insert name here> is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * You should have received a copy of the GNU General Public License
 * along with <insert name here>.  If not, see <https://www.gnu.org/licenses/>.
 */

var game=function(t){"use strict";function n(t,n){return{x:t,y:n}}function r(t,r){return n(t.x+r.x,t.y+r.y)}function e(t,r){return n(t.x*r,t.y*r)}function i(t,n){return r(t,e(n,-1))}function o(t,n){return t.x*n.y-t.y*n.x}function u(t){return e(t,1/(function(t){return Math.pow(function(t,n){return t.x*n.x+t.y*n.y}(t,t),.5)}(t)||1))}function c(t,n){var r=a(t),e=a(n);try{r.forEach((function(t){e.forEach((function(n){if(function(t){var n=t[0],r=t[1],e=t[2],u=t[3],c=o(i(n,r),i(e,u));if(0===c)return!1;var a=o(i(n,e),i(e,u)),h=o(i(r,n),i(n,e)),f=a/c+0,s=h/c+0;return f>=0&&f<=1&&s>=0&&s<=1}(t.concat(n)))throw new Error("Intersection!")}))}))}catch(t){return!0}return!1}function a(t){return t.X.map((function(n,r){return[n,t.X[(r+1)%4]]}))}var h,f=60,s=n(0,100);function d(t){var r=t.center,e=t.mass,i=t.friction,o=t.restitution,u=t.bounds,c=t.width,a=t.height,h={C:r,F:i,R:o,M:e?1/e:0,V:n(0,0),G:0,v:0,a:0,B:u,W:c,H:a,N:[],X:[n(r.x-c/2,r.y-a/2),n(r.x+c/2,r.y-a/2),n(r.x+c/2,r.y+a/2),n(r.x-c/2,r.y+a/2)]};return v(h),h}function v(t){t.N.forEach((function(n,r){t.N[r]=u(i(t.X[(r+1)%4],t.X[(r+2)%4]))}))}function y(t,i,o){void 0===o&&(o=s),t.save(),function(t,n){var r=n.C,e=n.G,i=r.x,o=r.y;t.translate(i,o),t.rotate(e)}(t,i),function(t,n){var r=n.W,e=n.H;t.strokeRect(-r/2,-e/2,r,e)}(t,i),t.restore(),function(t,i){var o=t.M>0?i:n(0,0);t.V=r(t.V,e(o,1/f)),function(t,n){t.C=r(t.C,n),t.X.forEach((function(e,i){t.X[i]=r(e,n)}))}(t,e(t.V,1/f))}(i,o),function(t){t.v=t.v+1*t.a/f,function(t,r){t.G=t.G+r,t.X.forEach((function(e,i){t.X[i]=function(t,r,e){var i=Math.cos,o=Math.sin,u=t.x-r.x,c=t.y-r.y;return n(u*i(e)-c*o(e)+r.x,u*o(e)+c*i(e)+r.y)}(e,t.C,r),v(t)}))}(t,1*t.v/f)}(i)}function g(t){var r=t.x,e=t.y,i=t.height,o=t.width;return d({center:n(r+o/2,e+i/2),mass:0,friction:20,restitution:0,bounds:25,width:o,height:i})}var x,l,w=[],m=n(0,0);function E(){l.clearRect(0,0,x.width,x.height),w.forEach((function(t){y(l,t)})),y(l,h,m);try{w.forEach((function(t){if(c(t,h))throw new Error("Game Over!")})),window.requestAnimationFrame(E)}catch(t){console.log("Catched"),location.hash="#scene-gameover"}}function p(t){if(t.target){var e=t.target,i=parseFloat(e.value);if("xgravity"===e.id)m=r(m,n(i,0));else{if("ygravity"!==e.id)throw console.error(e),new Error("What input is this?!");m=r(m,n(0,i))}}}return t.app=function(){var t=document.getElementById("game");if(t){var r=document.getElementById("xgravity"),e=document.getElementById("ygravity");if(r&&e){r.addEventListener("input",p),e.addEventListener("input",p);var i=(x=t).getContext("2d");i?(l=i,function(){h=d({center:n(200,200),mass:400,friction:20,restitution:0,bounds:20,width:20,height:20});var t=2;w.push(g({x:0,y:x.height-t,height:t,width:x.width})),w.push(g({x:0,y:0+t,height:t,width:x.width})),w.push(g({x:0+t,y:0,height:x.height,width:t})),w.push(g({x:x.width-t,y:0,height:x.height,width:t}))}(),E()):console.error("Could not start game!")}else console.error("Could not start game!")}else console.error("Could not start game!")},Object.defineProperty(t,"__esModule",{value:!0}),t}({});
</script>
  <script>location.hash='#scene-title';window.game.app()</script>
</body>
</html>

